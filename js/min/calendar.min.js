mapboxgl.accessToken="pk.eyJ1IjoibmVraXRoaCIsImEiOiJjbHZjajJkcjkwZ3Q2MnNta2h0bndnajBtIn0.I9tfAtq2Z7wdhHNK_sR_-Q",$(document).ready(function(){let e={event_1:{date:"2024-04-15"},event_2:{date:"2024-04-17"}};function a(a){for(let t in $(".vanilla-calendar-day__btn").removeClass("has-event"),e)if(e.hasOwnProperty(t)){let n=e[t];setTimeout(function(){$('.vanilla-calendar-day__btn[data-calendar-day="'+n.date+'"]').addClass("has-event")},0)}}let t=new VanillaCalendar("#calendar",{settings:{lang:"uk"},actions:{clickArrow(e,t){a()},clickYear(e,t){a()},clickMonth(e,t){a()},clickDay(t,n){a(t.target);var c=$(t.target).attr("data-calendar-day"),l=c.split("-"),r=parseInt(l[0]),s=parseInt(l[1]),d=parseInt(l[2]),o=new Date(r,s-1,d),i=o.getDate()+" "+["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"][o.getMonth()]+" "+o.getFullYear();$(".calendar-date").text(i),Object.values(e).some(e=>e.date===c)?($(".calendar-events-item").show(),$(".calendar-events p").hide()):($(".calendar-events-item").hide(),$(".calendar-events p").show())},initCalendar(e){a();var t=new Date,n=t.getDate()+" "+["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"][t.getMonth()]+" "+t.getFullYear();console.log(n),$(".calendar-date").text(n),$(".calendar-events-item").hide()}}});t.init();let n=new mapboxgl.Map({container:"address-map",style:"mapbox://styles/mapbox/streets-v12",center:[-79.4512,43.6568],zoom:13});n.on("click",function(e){(function e(a){fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/"+a.lng+","+a.lat+".json?access_token="+mapboxgl.accessToken).then(e=>e.json()).then(e=>{var a=e.features[0].place_name;$(".mapboxgl-ctrl-geocoder--input").val(a)})})(e.lngLat),$(".wrapper").removeClass("full-hide"),$(".address-map").hide()}),$(".show-address-map").click(function(e){e.preventDefault(),$(".address-map").show(),$(".wrapper").addClass("full-hide")}),$(".c_search-submit").click(function(e){e.preventDefault(),$(".calendar-search").hide(),$(".calendar-search-result").show()}),$(".c_search-refresh").click(function(e){e.preventDefault(),$(".calendar-search").show(),$(".calendar-search-result").hide()});let c=new MapboxGeocoder({accessToken:mapboxgl.accessToken,mapboxgl:mapboxgl});document.getElementById("geocoder").appendChild(c.onAdd(n)),$(".mapboxgl-ctrl-geocoder--input").attr("placeholder","Впишіть адресу"),$(".c_search-btn").click(function(e){e.preventDefault(),$(".calendar-search").fadeIn(300)}),$("select#category").select2({minimumResultsForSearch:1/0})});