mapboxgl.accessToken="pk.eyJ1IjoibmVraXRoaCIsImEiOiJjbHZjajJkcjkwZ3Q2MnNta2h0bndnajBtIn0.I9tfAtq2Z7wdhHNK_sR_-Q",$(document).ready((function(){const e={event_1:{date:"2024-05-15"},event_2:{date:"2024-05-17"}};function a(a){$(".vanilla-calendar-day__btn").removeClass("has-event");for(const a in e)if(e.hasOwnProperty(a)){const n=e[a];setTimeout((function(){$('.vanilla-calendar-day__btn[data-calendar-day="'+n.date+'"]').addClass("has-event")}),0)}}new VanillaCalendar("#calendar",{settings:{lang:"uk"},actions:{clickArrow(e,n){a()},clickYear(e,n){a()},clickMonth(e,n){a()},clickDay(n,t){a(n.target);var s=$(n.target).attr("data-calendar-day"),c=s.split("-"),r=parseInt(c[0]),l=parseInt(c[1]),d=parseInt(c[2]),o=new Date(r,l-1,d),i=o.getDate()+" "+["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"][o.getMonth()]+" "+o.getFullYear();$(".calendar-date").text(i),Object.values(e).some((e=>e.date===s))?($(".calendar-events-item").show(),$(".calendar-events p").hide()):($(".calendar-events-item").hide(),$(".calendar-events p").show())},initCalendar(e){a();var n=new Date,t=n.getDate()+" "+["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"][n.getMonth()]+" "+n.getFullYear();$(".calendar-date").text(t),$(".calendar-events-item").hide()}}}).init();const n=new mapboxgl.Map({container:"address-map",style:"mapbox://styles/mapbox/streets-v12",center:[-79.4512,43.6568],zoom:13});n.on("click",(function(e){var a,n=e.lngLat;a=n,fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/"+a.lng+","+a.lat+".json?access_token="+mapboxgl.accessToken).then((e=>e.json())).then((e=>{var a=e.features[0].place_name;$(".mapboxgl-ctrl-geocoder--input").val(a)})),$(".address-map").hide(),$(".wrapper").removeClass("full-hide")})),n.on("load",(function(){$(".show-address-map").click((function(e){e.preventDefault(),$(".address-map").show(),$(".wrapper").addClass("full-hide"),n.resize(),e.stopPropagation()}))})),$(".calendar-search").click((function(){$(this).hasClass("address-map-open")&&($(".calendar-search").removeClass("address-map-open"),$(".address-map").hide())})),$(".c_search-submit").click((function(e){e.preventDefault(),$(".calendar-search").hide(),""!=$(".calendar-search input#name").val()?($(".calendar-search-result p").show(),$(".calendar-events").hide()):($(".calendar-search-result p").hide(),$(".calendar-events").show()),$(".calendar-search-result").show()})),$(".c_search-refresh").click((function(e){e.preventDefault(),$(".calendar-search").show(),$(".calendar-search-result").hide()}));const t=new MapboxGeocoder({accessToken:mapboxgl.accessToken,mapboxgl:mapboxgl});document.getElementById("geocoder").appendChild(t.onAdd(n)),$(".mapboxgl-ctrl-geocoder--input").attr("placeholder","Впишіть адресу"),$(".c_search-btn").click((function(e){e.preventDefault(),$(".calendar-search").show()}))}));