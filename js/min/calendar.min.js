mapboxgl.accessToken="pk.eyJ1IjoibmVraXRoaCIsImEiOiJjbHZjajJkcjkwZ3Q2MnNta2h0bndnajBtIn0.I9tfAtq2Z7wdhHNK_sR_-Q",$(document).ready((function(){const e={event_1:{date:"2024-05-15"},event_2:{date:"2024-05-17"}};function a(a){$(".vanilla-calendar-day__btn").removeClass("has-event");for(const a in e)if(e.hasOwnProperty(a)){const t=e[a];setTimeout((function(){$('.vanilla-calendar-day__btn[data-calendar-day="'+t.date+'"]').addClass("has-event")}),0)}}new VanillaCalendar("#calendar",{settings:{lang:"uk"},actions:{clickArrow(e,t){a()},clickYear(e,t){a()},clickMonth(e,t){a()},clickDay(t,n){a(t.target);var c=$(t.target).attr("data-calendar-day"),s=c.split("-"),r=parseInt(s[0]),l=parseInt(s[1]),o=parseInt(s[2]),d=new Date(r,l-1,o),i=d.getDate()+" "+["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"][d.getMonth()]+" "+d.getFullYear();$(".calendar-date").text(i),Object.values(e).some((e=>e.date===c))?($(".calendar-events-item").show(),$(".calendar-events p").hide()):($(".calendar-events-item").hide(),$(".calendar-events p").show())},initCalendar(e){a();var t=new Date,n=t.getDate()+" "+["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"][t.getMonth()]+" "+t.getFullYear();$(".calendar-date").text(n),$(".calendar-events-item").hide()}}}).init();const t=new mapboxgl.Map({container:"address-map",style:"mapbox://styles/mapbox/streets-v12",center:[-79.4512,43.6568],zoom:13});t.on("click",(function(e){var a,t=e.lngLat;a=t,fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/"+a.lng+","+a.lat+".json?access_token="+mapboxgl.accessToken).then((e=>e.json())).then((e=>{var a=e.features[0].place_name;$(".mapboxgl-ctrl-geocoder--input").val(a)})),$(".address-map").hide(),$(".wrapper").removeClass("full-hide")})),t.on("load",(function(){$(".show-address-map").click((function(e){e.preventDefault(),$(".address-map").show(),$(".wrapper").addClass("full-hide"),t.resize(),e.stopPropagation()}))})),$(".calendar-search").click((function(){$(this).hasClass("address-map-open")&&($(".calendar-search").removeClass("address-map-open"),$(".address-map").hide())})),$(".c_search-submit").click((function(e){e.preventDefault(),$(".calendar-search").hide(),$(".calendar-search-result").show()})),$(".c_search-refresh").click((function(e){e.preventDefault(),$(".calendar-search").show(),$(".calendar-search-result").hide()}));const n=new MapboxGeocoder({accessToken:mapboxgl.accessToken,mapboxgl:mapboxgl});document.getElementById("geocoder").appendChild(n.onAdd(t)),$(".mapboxgl-ctrl-geocoder--input").attr("placeholder","Впишіть адресу"),$(".c_search-btn").click((function(e){e.preventDefault(),$(".calendar-search").show()}))}));