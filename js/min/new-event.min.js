mapboxgl.accessToken="pk.eyJ1IjoibmVraXRoaCIsImEiOiJjbHZjajJkcjkwZ3Q2MnNta2h0bndnajBtIn0.I9tfAtq2Z7wdhHNK_sR_-Q",$(document).ready(function(){$("#desc_event").on("input",function(){console.log(this.scrollHeight),this.scrollHeight>112&&$(this).height(this.scrollHeight-30)});let e=new VanillaCalendar("#event_date",{input:!0,actions:{changeToInput(e,t){t.HTMLInputElement&&(t.selectedDates[0]?(t.HTMLInputElement.value=t.selectedDates[0],t.hide()):t.HTMLInputElement.value="")}},settings:{lang:"uk",visibility:{positionToInput:"center"}}});e.init();let t=new mapboxgl.Map({container:"address-map",style:"mapbox://styles/mapbox/streets-v12",center:[-79.4512,43.6568],zoom:13});t.on("click",function(e){(function e(t){fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/"+t.lng+","+t.lat+".json?access_token="+mapboxgl.accessToken).then(e=>e.json()).then(e=>{var t=e.features[0].place_name;$(".mapboxgl-ctrl-geocoder--input").val(t)})})(e.lngLat),$("#address-map").hide(),$(".wrapper").removeClass("full-hide")});let n=new MapboxGeocoder({accessToken:mapboxgl.accessToken,mapboxgl:mapboxgl});document.getElementById("geocoder").appendChild(n.onAdd(t)),$(".mapboxgl-ctrl-geocoder--input").attr("placeholder","Впишіть адресу"),$(".show-address-map").click(function(e){e.preventDefault(),$(".address-map").show(),$(".wrapper").addClass("full-hide"),e.stopPropagation()}),$("select#category_event").select2({minimumResultsForSearch:1/0});let a=new Dropzone(".images-event",{url:"/upload",uploadMultiple:!0,previewTemplate:document.querySelector("#my-template").innerHTML,autoProcessQueue:!1,previewsContainer:".preview-container",init:function(){this.on("addedfile",function(e){e.previewElement.querySelector(".dz-delete").addEventListener("click",function(){a.removeFile(e)})})}});$('input[name="privacy"]').on("change",function(){!0==$(this).prop("checked")?$(this).parent().find(".switcher-text").text("Всі"):$(this).parent().find(".switcher-text").text("Тільки запрошені")})});